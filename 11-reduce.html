<!DOCTYPE html>
<html lang="zh-cn">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title></title>
		<style>
			
		</style>
		<script>

			/*
				ES5.1的方法
					push
					join
					splice
					sort
					concat
					pop
					unshift
					shift
					slice
					reverse
					
					
					forEach
					map
					filter

					reduce
					some
					every


				ES6的方法
					find
					findIndex
			*/

			/*
				reduce(回调函数[，初始值])
					回调函数参数
						1. 没有初始值，是数组的第一项
						2. 没有初始值，是数组的第二项

				运行过程：
					没有初始值，
						第一调用回调函数，接收的是数组的第一项和第二项。
						第二次调用回调函数，接收的第一个参数是调用上一个回调函数（第一个）的返回值，第二参数是数组的第三项；
						第三次调用函数，接收的第一个参数是调用上一个回调函数（第二次）的返回值，第二参数是数组的第四项
						。。。。。
					有初始值
						第一次调用回调函数，回调函数的第一参数是传入的初始值，第二分参数是数组的第一项
						第二次调用回调函数，接收的第一个参数是调用上一个回调函数（第一个）的返回值，第二参数是数组的第三项；
						第三次调用函数，接收的第一个参数是调用上一个回调函数（第二次）的返回值，第二参数是数组的第四项

			*/

			let arr = [1,2,3,4,5];

			// 数组中每一项相加得出一个总和
			// 没有初始值
			arr.reduce(function (item1,item2){
				console.log(item1,item2);	
				return item1+item2
			})
			// 初始值是100
			arr.reduce(function (item1,item2){
				console.log(item1,item2);	
				return item1+item2
			},100)

			let arr2 = [{a:1},{a:2},{a:3}]

			arr2.reduce(function (item1,item2){
				return {
					a:item1.a + item2.a
				}	
			})

			arr2.reduce(function (item1,item2){
				return item1 + item2.a;	
			},0)

		</script>
	</head>

	<body>
		<button id="btn">小于30对的人</button>
		<button id="ages">总年龄为：岁</button>
		<ul id="list">
			<!-- <li>
				<p>姓名：XXXX</p>
				<p>性别：XXXX</p>
				<p>年龄：XXXX</p>
			</li>
			<li>
				<p>姓名：XXXX</p>
				<p>性别：XXXX</p>
				<p>年龄：XXXX</p>
			</li>
			<li>
				<p>姓名：XXXX</p>
				<p>性别：XXXX</p>
				<p>年龄：XXXX</p>
			</li> -->
		</ul>

		<script>
			// 数据结构

			let data = [
				{
					name: 'leo',
					sex: '男',
					age:20,
					width:1000
				},
				{
					name: 'leo',
					sex: '男',
					age:21,
					width:1000
				},{
					name: 'leo',
					sex: '男',
					age:30,
					width:1000
				},
				{
					name: 'leo',
					sex: '男',
					age:35,
					width:1000
				},
			]

			ages.onclick = function (){
				/*let count = data.reduce(function (item1,item2){
					console.log(item1,item2);
					return {
						age:item1.age + item2.age,
						width:item1.width + item2.width
					}
				})*/

				let age = 0,width = 0;	

				data.forEach(function (item){
					age += item.age;
					width += item.width;
				})
				console.log(count);
			}		

			btn.onclick  =function (){
				let newData = data.filter(function (item){
					return item.age < 30
				})
				render(newData)
			}


			function render(d){
				let m = d.map(function (item){
					return `
						<li>
							<p>姓名：${item.name}</p>
							<p>性别：${item.sex}</p>
							<p>年龄：${item.age}</p>
						</li>
					`
				}).join('');

				list.innerHTML = m;
			}

			render(data)





		</script>
	</body>
</html>